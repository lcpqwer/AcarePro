(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-OrderDetail6-OrderDetail6"],{"4b6d":function(t,e,i){"use strict";i.r(e);var a=i("5193"),r=i("db6e");for(var n in r)"default"!==n&&function(t){i.d(e,t,function(){return r[t]})}(n);i("961a");var o=i("2877"),s=Object(o["a"])(r["default"],a["a"],a["b"],!1,null,"754b6a4f",null);e["default"]=s.exports},5193:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"all",style:t.allHeight},[i("Back"),i("v-uni-scroll-view",{staticStyle:{width:"100%",height:"100%"},attrs:{"scroll-y":"true"}},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"/static/img/top/境內高鐵接送.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"Sname"},[t._v("我的订单")]),i("v-uni-view",{staticClass:"Main MainTop"},[i("v-uni-view",{staticClass:"Main-title"},[t._v("订单编号："+t._s(t.OrderItem.order_number))]),i("v-uni-view",{staticClass:"Main-main"},[i("v-uni-view",{staticClass:"Order-state"},[i("v-uni-view",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-60%)",display:"flex","flex-direction":"row"}},[i("v-uni-image",{staticClass:"OS-img",attrs:{src:"/static/img/tick.png",mode:"widthFix"}}),1==t.OrderItem.status?i("v-uni-view",{staticClass:"OS-text",staticStyle:{color:"#302993"}},[t._v("正在进行")]):2==t.OrderItem.status?i("v-uni-view",{staticClass:"OS-text",staticStyle:{color:"green"}},[t._v("服务完成")]):i("v-uni-view",{staticClass:"OS-text",staticStyle:{color:"red"}},[t._v("已取消")])],1)],1),i("v-uni-view",{staticClass:"Order-img"},[i("v-uni-image",{staticClass:"OI-img",attrs:{src:t.qrcode,mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"Order-info"},[t._v("服务日期："+t._s(t.OrderItem.YMD))]),i("v-uni-view",{staticClass:"Order-info"},[t._v("高铁站："+t._s(t.OrderItem.order_detail.HSRStation))]),i("v-uni-view",{staticClass:"Order-info"},[t._v("车次信息："+t._s(t.OrderItem.order_detail.HSRInfo))]),0==t.OrderItem.order_detail.Type?i("v-uni-view",{staticClass:"Order-info"},[t._v("目的地："+t._s(t.OrderItem.order_detail.Address))]):i("v-uni-view",{staticClass:"Order-info"},[t._v("起始地："+t._s(t.OrderItem.order_detail.Address))]),i("v-uni-view",{staticClass:"Order-info"},[t._v("服务时间："+t._s(t.OrderItem.HM))]),i("v-uni-view",{staticClass:"Order-info"},[t._v("接送人数："+t._s(t.OrderItem.order_detail.Pnum))]),t.del?i("v-uni-view",{staticClass:"del-warpper"},[i("v-uni-button",{staticClass:"del-sub",attrs:{type:"primary"},on:{click:function(e){e=t.$handleEvent(e),t.delClick()}}},[t._v("取消订单")])],1):t._e(),i("v-uni-image",{staticStyle:{height:"70upx",width:"208upx","margin-top":"70upx"},attrs:{src:"/static/img/newLogo.png",mode:""}})],1)],1)],1)],1)},r=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return r})},8216:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5"),i("a481");var r,n=a(i("97e6"));uni.getSystemInfo({success:function(t){r=t.screenHeight-44}});var o={data:function(){return{allHeight:"height:"+r+"px",MainHeight:"height:"+.8*r+"px",SnameTop:"top:"+(.2*r-70)+"px",MainTop:"top:"+(.2*r+10)+"px",OrderItem:null,del:!1,qrcode:null}},components:{},onLoad:function(t){var e=JSON.parse(t.OrderItem);this.OrderItem=e,console.log(e);var i=n.default.createQrCodeImg(e.order_number,{});if(this.qrcode=i,1==e.status){var a=this.OrderItem.order_detail.UserTime.replace(/年/g,"-").replace(/月/g,"-").replace(/日/g,""),r=a.split(" "),o=r[0].split("-"),s=r[1].split(":"),l=new Date(o[0],o[1],o[2],s[0],s[1],"0"),d=Date.parse(l);console.log(d);var c=Date.parse(new Date);d-c>108e5&&(console.log(1212),console.log(d-c),this.del=!0)}},methods:{delClick:function(){var t=this.OrderItem.order_detail.UserTime.replace(/年/g,"-").replace(/月/g,"-").replace(/日/g,""),e=new Date(t).getTime(),i=Date.parse(new Date);e-i>108e5?this.delOrder():(this.del=!1,uni.showToast({title:"时间超出不能取消",icon:"none",duration:1e3}))},Prompt:function(t){uni.showToast({title:t,icon:"none",duration:1e3,mask:!0}),setTimeout(function(){uni.hideToast(),uni.navigateBack({delta:1})},1e3)},Prompt1:function(){uni.showToast({title:"登陆状态异常",icon:"none",duration:1e3,mask:!0}),setTimeout(function(){uni.hideToast(),uni.navigateTo({url:"/pages/Login_one/Login_one"})},1e3)},Prompt2:function(){uni.showToast({title:"网络连接失败",icon:"none",duration:1e3,mask:!0}),setTimeout(function(){uni.hideToast()},1e3)},delOrder:function(){var t=getApp().globalData.AllUrl+"api/cancel",e={data:{service_type:"1",primary_id:this.OrderItem.id}},i=this;console.log(e),uni.request({url:t,method:"POST",data:e,header:{Authorization:getApp().globalData.loginToken},success:function(t){console.log(t),"取消订单成功"==t.data.msg?i.Prompt("取消成功"):"token error"==t.data?i.Prompt1():"取消订单失败"==t.data.msg?i.Prompt("取消失败"):i.Prompt2()},fail:function(){},complete:function(){}})}}};e.default=o},"839c":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".Order-state[data-v-754b6a4f]{height:%?140?%;position:relative}.Main-title[data-v-754b6a4f]{color:#412975}\r\n\r\n/* .OS-img, .OS-text, .OI-img-warpper {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n} */.OS-img[data-v-754b6a4f]{width:%?50?%;height:%?50?%}.OS-text[data-v-754b6a4f]{left:%?70?%;\r\n\t/* height: 100upx; */\r\n\t/* line-height: 100upx; */font-size:%?40?%;letter-spacing:%?4?%;margin-left:%?20?%}.Order-img[data-v-754b6a4f]{\r\n\t/* height: 240upx; */\r\n\t/* position: relative; */width:100%;text-align:center}.OI-img-warpper[data-v-754b6a4f]{height:%?173?%;width:%?300?%}.OI-img[data-v-754b6a4f]{\r\n\t/* width: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 20upx; */width:%?340?%}.Order-info[data-v-754b6a4f]{\r\n\t/* height: 60upx; */line-height:%?60?%;font-size:%?30?%;color:#412975}.Img-text[data-v-754b6a4f]{width:%?292?%;position:absolute;bottom:%?20?%;right:0;background-color:silver;color:#fff;padding-right:%?20?%;font-size:%?30?%;text-align:right;background:-webkit-gradient(linear,right top,left top,from(grey),to(hsla(0,0%,100%,0)));background:-o-linear-gradient(right,grey,hsla(0,0%,100%,0));background:linear-gradient(270deg,grey,hsla(0,0%,100%,0))}.del-warpper[data-v-754b6a4f]{width:100%;height:%?70?%;margin-top:%?50?%;position:relative}.del-sub[data-v-754b6a4f]{height:%?70?%;width:%?250?%;background-color:silver;line-height:%?70?%;font-style:%?50?%;position:absolute;right:%?50?%}",""])},"8ae1":function(t,e,i){var a=i("839c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("4f06").default;r("08188068",a,!0,{sourceMap:!1,shadowMode:!1})},"961a":function(t,e,i){"use strict";var a=i("8ae1"),r=i.n(a);r.a},db6e:function(t,e,i){"use strict";i.r(e);var a=i("8216"),r=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=r.a}}]);